---
title: "La Grave"
output:
  html_document:
    toc: false
---

<style type="text/css">
.main-container {
  max-width: 1800px;
  margin-left: auto;
  margin-right: auto;
}
</style>

# Carte

```{r, echo = FALSE, warnings = FALSE, message = FALSE, fig.width = 14, fig.height = 7}
library(grave)

recharge <- st_read("data/data-format/recharge.geojson", quiet = TRUE)
zones <- st_read("data/data-format/zones.geojson", quiet = TRUE)
samples <- st_read("data/data-format/samples.geojson", quiet = TRUE)

# Export kml (extra code shouldnt be here)
st_write(samples, './data/data-format/stations.kml', delete_dsn = TRUE, quiet = TRUE)

# Mapview
mv <- mapview(recharge[,"descriptio"]) +
      mapview(zones) +
      mapview(samples)

mv
```

<br/>

# Projection

```{r, echo = FALSE}
samples <- st_transform(samples, 4326)
prj <- st_crs(samples)
cat(paste0('Projection: ', prj$input, ' (EPSG: ', prj$epsg, ')'))
```

<br/>

# Stations d'Ã©chantillonnage

```{r echo = FALSE, warnings = FALSE, message = FALSE}
xy <- st_coordinates(samples)
stations <- st_drop_geometry(samples)
stations <- cbind(stations, xy)
knitr::kable(stations, col.names = c('Station', 'Longitude','Latitude'), row.names = FALSE) %>%
    kableExtra::kable_styling(full_width = F, position = "left")
```
